<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="google-site-verification" content="googleb7c94f928b35e8cc.html" />
        <meta name="description" content="GAFIT - Soluções em Automação & TI (Belo Horizonte - MG) atua no desenvolvimento de softwares Web e aplicativos para Android e iOS.">
        <meta name="author" content="GAFIT - Soluções em Automação & TI">
        <meta name="Keywords" content="gafit, soluções, automação, ti, tecnologia, tecnologia da informação, softwares, web, site, aplicativos, Android, iOS, belo horizonte, bh, minas gerais, mg, centro, afonso pena">
        <meta property="og:title" content="Feliz Natal - GAFIT" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="http://www.gafit.com.br/" />
        <meta property="og:description" content="GAFIT - Soluções em Automação & TI (Belo Horizonte - MG) atua no desenvolvimento de softwares Web e aplicativos para Android e iOS." />
        <link rel="canonical" href="http://www.gafit.com.br/" />
        <meta property="og:image" content="http://gafit.com.br/img/bg.jpg">
        <meta name="description" content="GAFIT">
        <meta name="author" content="GAFIT">
        <link rel="shortcut icon" href="http://gafit.com.br/img/favicon/GAFIT-favicon.ico">
        <link rel="apple-touch-icon image_src" href="http://gafit.com.br/img/favicon/GAFIT-favicon.png">

        <title>Feliz Natal - GAFIT</title>
        <link href="https://fonts.googleapis.com/css?family=Poppins" rel="stylesheet">
        <style>
            html, body{
                height:100vh;
                width:100vw;
                margin:0;
                padding:0;
                overflow:hidden;
            }
            /*.title{
                text-align:center;
                position:absolute;
                top:calc(48vh - 100px);
                width:100vw;
                font-family: 'Poppins', sans-serif;
                color:#fff;
                z-index:99;
            }
            h1{
                font-size:100px;
                margin:0;
            }
            h2{
                font-size:90px;
                margin:0;
            }*/
            @media (min-width:1010px) {
                .container{
                    display: flex;
                    align-items: center;
                    justify-content: center;
                }
            }
            .container{
                text-align: center;
            }
            .picture-div {
                position: relative;
                width:150px;
                display: inline-block;
                margin: 5px 10px;
                -webkit-touch-callout: none; /* iOS Safari */
                -webkit-user-select: none; /* Safari */
                -khtml-user-select: none; /* Konqueror HTML */
                -moz-user-select: none; /* Firefox */
                -ms-user-select: none; /* Internet Explorer/Edge */
                user-select: none;
                /*border-radius:50%;
                position:absolute;
                z-index:98;*/
            }
            /*.picture{
                width: 100%;
            }*/
            .mouth{
                position: absolute;
            }
            #belisario_mouth{
                left: 54px;
                top:155px;
                /*left: 50px;*/
                /*top:167px;*/
            }
            #adriano_mouth{
                left: 45px;
                top:168px;
            }
            #jonas_mouth{
                left: 46px;
                top:172px;
            }
            #arthur_mouth{
                left: 48px;
                top:177px;
            }
            #pablo_mouth{
                left: 53px;
                top:176px;
            }
            #henrique_mouth{
                left: 50px;
                top:171px;
            }

            .openMouth {
                -webkit-animation: openMouth 0.1s forwards;
                -moz-animation: openMouth 0.1s forwards;
                animation: openMouth 0.1s forwards;
            }
            @-moz-keyframes openMouth {
                0% {-moz-transform:translateY(0);}
                100% { -moz-transform:translateY(20px); }
            }
            @-webkit-keyframes openMouth {
                0% {-webkit-transform:translateY(0);}
                100% { -webkit-transform:translateY(20px); }
            }
            @keyframes openMouth {
                0% {transform:translateY(0);}
                100% { transform:translateY(20px); }
            }

            .closeMouth {
                -webkit-animation: closeMouth 0.1s forwards;
                -moz-animation: closeMouth 0.1s forwards;
                animation: closeMouth 0.1s forwards;
            }
            @-moz-keyframes closeMouth {
                0% { -moz-transform:translateY(20px); }
                100% { -moz-transform:translateY(0); }
            }
            @-webkit-keyframes closeMouth {
                0% { -webkit-transform:translateY(20px); }
                100% { -webkit-transform:translateY(0); }
            }
            @keyframes closeMouth {
                0% { transform:translateY(20px); }
                100% { transform:translateY(0); }
            }

            .tilt {
                -webkit-animation: tilt 2.5s linear infinite;
                -moz-animation: tilt 2.5s linear infinite;
                animation: tilt 2.5s linear infinite;
            }
            .spin {
                -webkit-animation: spin 5s linear infinite;
                -moz-animation: spin 5s linear infinite;
                animation: spin 5s linear infinite;
            }
            .reverse_spin {
                -webkit-animation: reverse_spin 5s linear infinite;
                -moz-animation: reverse_spin 5s linear infinite;
                animation: reverse_spin 5s linear infinite;
            }
            @-moz-keyframes tilt {
                0% {-moz-transform:rotate(0deg);}
                25% { -moz-transform: rotate(30deg); }
                50% { -moz-transform: rotate(0deg); }
                75% { -moz-transform: rotate(-30deg); }
                100% { -moz-transform: rotate(0deg); }
            }
            @-webkit-keyframes tilt {
                0% {-webkit-transform:rotate(0deg);}
                25% { -webkit-transform: rotate(30deg); }
                50% { -webkit-transform: rotate(0deg); }
                75% { -webkit-transform: rotate(-30deg); }
                100% { -webkit-transform: rotate(0deg); }
            }
            @keyframes tilt {
                0% {transform:rotate(0deg);}
                25% { transform: rotate(30deg); }
                50% { transform: rotate(0deg); }
                75% { transform: rotate(-30deg); }
                100% { transform: rotate(0deg); }
            }
            @-moz-keyframes spin {
                from { -moz-transform: rotate(0deg); }
                to { -moz-transform: rotate(360deg); }
            }
            @-webkit-keyframes spin {
                from { -webkit-transform: rotate(0deg); }
                to { -webkit-transform: rotate(360deg); }
            }
            @keyframes spin {
                from {transform:rotate(0deg);}
                to {transform:rotate(360deg);}
            }
            @-moz-keyframes reverse_spin {
                from { -moz-transform: rotate(0deg); }
                to { -moz-transform: rotate(-360deg); }
            }
            @-webkit-keyframes reverse_spin {
                from { -webkit-transform: rotate(0deg); }
                to { -webkit-transform: rotate(-360deg); }
            }
            @keyframes reverse_spin {
                from {transform:rotate(0deg);}
                to {transform:rotate(-360deg);}
            }
        </style>
    </head>

    <body>
        <div class="container">
            <div class="picture-div">
                <img class="picture">
                <img class="mouth" data-sing-count="0">
            </div>
            <div class="picture-div">
                <img class="picture">
                <img class="mouth" data-sing-count="0">
            </div>
            <div class="picture-div">
                <img class="picture">
                <img class="mouth" data-sing-count="0">
            </div>
            <div class="picture-div">
                <img class="picture">
                <img class="mouth" data-sing-count="0">
            </div>
            <div class="picture-div">
                <img class="picture">
                <img class="mouth" data-sing-count="0">
            </div>
            <div class="picture-div">
                <img class="picture">
                <img class="mouth" data-sing-count="0">
            </div>
        </div>

        <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
        <script>
            var m_TeamMembers;
            var NORMAL_SPEED = 1;
            var SLOW_SPEED = 0.7;
            var FAST_SPEED = 1.3;

            function sing(p_Person, p_Speed) {
                var $v_Mouth = $('#' + p_Person + '_mouth');
                $v_Mouth.data('sing-count', parseInt($v_Mouth.data('sing-count')) + 1);
                $v_Mouth.removeClass('openMouth closeMouth');
                setTimeout(function(){
                    $v_Mouth.addClass('openMouth');
                },15);

//                var v_Audio = new Audio('hey.wav');
                 var v_Audio = new Audio(p_Person + '.mp3');
                v_Audio.playbackRate = p_Speed;
                v_Audio.addEventListener('ended', function(){
                    var v_SingCount = parseInt($v_Mouth.data('sing-count')) - 1;
                    $v_Mouth.data('sing-count', v_SingCount);
                    if(v_SingCount == 0){
                        $v_Mouth.removeClass('openMouth closeMouth').addClass('closeMouth');
                    }
                });
                v_Audio.play();
            }

            function orchestra(){
                $('.picture-div:not(.tilt)').addClass('tilt');
                var v_AudioDuration = 380;

                singAfter(getRandomMember(), NORMAL_SPEED, 0);
                singAfter(getRandomMember(), NORMAL_SPEED, v_AudioDuration);
                singAfter(getRandomMember(), NORMAL_SPEED, 2*v_AudioDuration);

                var v_Offset = 300;
                singAfter(getRandomMember(), NORMAL_SPEED, v_Offset + 3*v_AudioDuration);
                singAfter(getRandomMember(), NORMAL_SPEED, v_Offset + 4*v_AudioDuration);
                singAfter(getRandomMember(), NORMAL_SPEED, v_Offset + 5*v_AudioDuration);

                v_Offset = 600;
                singAfter(getRandomMember(), NORMAL_SPEED, v_Offset + 6*v_AudioDuration);
                singAfter(getRandomMember(), NORMAL_SPEED, v_Offset + 7*v_AudioDuration);
                singAfter(getRandomMember(), NORMAL_SPEED, v_Offset + 8*v_AudioDuration);//
                singAfter(getRandomMember(), NORMAL_SPEED, v_Offset + 9*v_AudioDuration);
                singAfter(getRandomMember(), NORMAL_SPEED, v_Offset + 10*v_AudioDuration);

                v_Offset = 1300;
                singAfter(getRandomMember(), NORMAL_SPEED, v_Offset + 11*v_AudioDuration);
                singAfter(getRandomMember(), NORMAL_SPEED, v_Offset + 12*v_AudioDuration);
                singAfter(getRandomMember(), NORMAL_SPEED, v_Offset + 13*v_AudioDuration);

                v_Offset = 1600;
                singAfter(getRandomMember(), NORMAL_SPEED, v_Offset + 14*v_AudioDuration);
                singAfter(getRandomMember(), NORMAL_SPEED, v_Offset + 15*v_AudioDuration);
                singAfter(getRandomMember(), NORMAL_SPEED, v_Offset + 16*v_AudioDuration);

                v_Offset = 1900;
                singAfter(getRandomMember(), NORMAL_SPEED, v_Offset + 17*v_AudioDuration);
                singAfter(getRandomMember(), NORMAL_SPEED, v_Offset + 18*v_AudioDuration);
                singAfter(getRandomMember(), NORMAL_SPEED, v_Offset + 19*v_AudioDuration);
                singAfter(getRandomMember(), NORMAL_SPEED, v_Offset + 20*v_AudioDuration);
                singAfter(getRandomMember(), NORMAL_SPEED, v_Offset + 21*v_AudioDuration);
                singAfter(getRandomMember(), NORMAL_SPEED, 200 + v_Offset + 22*v_AudioDuration);
            }

            function imperialMarch(){
                $('.picture-div:not(.tilt)').addClass('tilt');
                var v_AudioDuration = 380;
                var v_Offset = 500;

                singDuetAfter(getRandomMember(), getRandomMember(), SLOW_SPEED, 0);
                singDuetAfter(getRandomMember(), getRandomMember(), SLOW_SPEED, 450 + v_AudioDuration);
                singDuetAfter(getRandomMember(), getRandomMember(), SLOW_SPEED, 2*450 + 2*v_AudioDuration);

                singDuetAfter(getRandomMember(), getRandomMember(), NORMAL_SPEED, 300 + 2*450 + 3*v_AudioDuration);
                singDuetAfter(getRandomMember(), getRandomMember(), NORMAL_SPEED, 500 + 2*450 + 4*v_AudioDuration);
                singDuetAfter(getRandomMember(), getRandomMember(), NORMAL_SPEED, 700 + 2*450 + 5*v_AudioDuration);
                singDuetAfter(getRandomMember(), getRandomMember(), NORMAL_SPEED, 800 + 2*450 + 6*v_AudioDuration);
                singDuetAfter(getRandomMember(), getRandomMember(), NORMAL_SPEED, 1000 + 2*450 + 7*v_AudioDuration);
                singDuetAfter(getRandomMember(), getRandomMember(), NORMAL_SPEED, 1200 + 2*450 + 8*v_AudioDuration);

            }

            function singAllAfter(p_Speed, p_Time){
                $(m_TeamMembers).each(function(){
                    singAfter(this, p_Speed, p_Time);
                });
            }

            function singDuetAfter(p_Person1, p_Person2, p_Speed, p_Time){
                singAfter(p_Person1, p_Speed, p_Time);
                singAfter(p_Person2, p_Speed, p_Time);
            }

            function singAfter(p_Person, p_Speed, p_Time){
                setTimeout(function(){
                    sing(p_Person, p_Speed);
                }, p_Time);
            }

            $(document).ready(function(){
                m_TeamMembers = shuffle([
                    'adriano',
                    'arthur',
                    'belisario',
                    'henrique',
                    'jonas',
                    'pablo'
                ]);

                loadMembers();
                //TODO verificar se isso roda no celular ou se precisa de um botao pra carregar, e descomentar depois que tivermos os audios
                loadAudios();

//                orchestra();
//                imperialMarch();

                $('#belisario_mouth').click(function(){
                    loadMembersDemon();
                    laughter();
                });
            });

            function getRandomMember(){
                return m_TeamMembers[Math.floor(Math.random() * m_TeamMembers.length)];
            }

            function loadMembers(){
                $('.picture-div').each(function(c_Index){
                    $(this).find('.picture').attr('src', m_TeamMembers[c_Index] + '.png');
                    $(this).find('.mouth').attr('src', m_TeamMembers[c_Index] + '_mouth.png').attr('id', m_TeamMembers[c_Index] + '_mouth');
                });
            }

            function loadMembersDemon(){
                $('.picture-div.tilt').removeClass('tilt');
                $('.picture-div.spin').removeClass('spin');
                $('.picture-div.reverse_spin').removeClass('reverse_spin');
                $('.picture-div').each(function(c_Index){
                    $(this).find('.picture').attr('src', m_TeamMembers[c_Index] + '_demon.png');
                    setTimeout(function() {
                        $('.picture-div:eq(' + c_Index + ')').addClass(Math.floor(Math.random() * 5) > 2 ? 'spin' : 'reverse_spin');
                    }, Math.floor(Math.random() * 5)*250);
                });
            }

            function loadAudios(){
                $(m_TeamMembers).each(function(){
                    new Audio(this + '.mp3');
                });
                new Audio('evil.wav');
            }

            function shuffle(p_Array) {
                var v_CurrentIndex = p_Array.length, v_TemporaryValue, v_RandomIndex;
                // While there remain elements to shuffle...
                while (0 !== v_CurrentIndex) {
                    // Pick a remaining element...
                    v_RandomIndex = Math.floor(Math.random() * v_CurrentIndex);
                    v_CurrentIndex -= 1;

                    // And swap it with the current element.
                    v_TemporaryValue = p_Array[v_CurrentIndex];
                    p_Array[v_CurrentIndex] = p_Array[v_RandomIndex];
                    p_Array[v_RandomIndex] = v_TemporaryValue;
                }
                return p_Array;
            }

            function laugh(p_Person) {
                var $v_Mouth = $('#' + p_Person + '_mouth');
                $v_Mouth.data('sing-count', parseInt($v_Mouth.data('sing-count')) + 1);
                $v_Mouth.removeClass('openMouth closeMouth');
                setTimeout(function(){
                    $v_Mouth.addClass('openMouth');
                },15);

                var v_Audio = new Audio('evil.wav');
                v_Audio.addEventListener('ended', function(){
                    var v_SingCount = parseInt($v_Mouth.data('sing-count')) - 1;
                    $v_Mouth.data('sing-count', v_SingCount);
                    if(v_SingCount == 0){
                        $v_Mouth.removeClass('openMouth closeMouth').addClass('closeMouth');
                    }
                });
                v_Audio.play();
            }

            function laughAfter(p_Person, p_Speed, p_Time){
                setTimeout(function(){
                    laugh(p_Person, p_Speed);
                }, p_Time);
            }

            function laughter(){
                var v_Time = 0;
                for(i = 0; i < 200; i++){
                    $(m_TeamMembers).each(function(){
                        laughAfter(this, NORMAL_SPEED, v_Time + Math.floor(Math.random() * 5)*150);
                    });
                    v_Time += 1500;
                }
            }
        </script>
    </body>

</html>
